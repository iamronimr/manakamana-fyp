<html lang='en'>

<head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <title>Manakamana Online | Ecommerce Website</title>
    <script
      src="https://kit.fontawesome.com/dca5378fb4.js"
      crossorigin="anonymous"
    ></script>
     <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
      
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/product.css">
</head>

<body>
    <nav>
      <div class="container">
        <div class="row">
          <div class="left">
            <p>Support: 9802738584</p>
            <a href="mailto:manakamanaonline1@gmail.com">manakamanaonline1@gmail.com</a>
          </div>
          <div class="right">
            <a href="#">
              <li><i class="fa-solid fa-cart-shopping"></i>Cart</li>
            </a>
            <a href="/register">
              <li><i class="fa-solid fa-user"></i>Create Account</li>
            </a>
            <a href="/login">
              <li><i class="fa-solid fa-right-to-bracket"></i>Login</li>
            </a>
          </div>
        </div>
      </div>
    </nav>
    <div class="line"></div>
    <div class="bottom">
      <div class="container">
        <div class="row">
          <img alt="" src="images/logo.jpg" height="70px">
          <form class="search">
            <input type="search" placeholder="Search..." />
            <button  class="search">Search</button>
          </form>
        </div>
      </div>
    </div>
    <div class="menu">
      <div class="container">
        <div class="row">
          <div class="left" onclick="myFunction()">
            <i class="fa-solid fa-bars"></i>
            <div class="dropdown">
              <p class="category">Category</p>
              <div class="drop-down" id="drop">
                <a href="#">
                  <li>Tools</li>
                </a>
                <a href="#">
                  <li>Electric</li>
                </a>
                <a href="#">
                  <li>Sanitary</li>
                </a>
                <a href="#">
                  <li>Tiles</li>
                </a>
              </div>
            </div>
          </div>
          <div class="right">
            <a href="/">
              <li><i class="fa-solid fa-house"></i>Home</li>
            </a>
            <a href="/product">
              <li>Products</li>
            </a>
          </div>
        </div>
      </div>
    </div>
     <div class="slide">
      <div class="container">
        <p class="product_head">{{pageTitle}}</p>
        <div id="products">
        {{!-- <c:forEach items="${productList}" var="product">
          <div class="product">
              
          </div>
          </c:forEach> --}}
        </div>
      </div>
    </div>
    <footer>
      <div class="footer_head">
        <div class="text">Order best tools at your choices</div>
      </div>
      <div class="container">
        <div class="row">
          <div class="flexbox">
            <div class="box">
              <h1>About Manakamana</h1>
              <a href="#">
                <li>
                  <i class="fa-solid fa-location-dot"></i>Dharan:08,
                  Nepal
                </li>
              </a>
              <a href="#">
                <li>
                  <i class="fa-solid fa-envelope"></i>manakamanaonline1@gmail.com
                </li>
              </a>
              <a href="#">
                <li><i class="fa-solid fa-phone"></i>9802738584</li>
              </a>
            </div>
            <div class="box1">
              <h1>Find us on:</h1>
              <div class="social">
                <a href="#">
                  <li>
                    <i class="fa-brands fa-facebook"></i>
                  </li>
                </a>
                <a href="#">
                  <li>
                    <i class="fa-brands fa-whatsapp"></i>
                  </li>
                </a>
                <a href="#">
                  <li>
                    <i class="fa-brands fa-twitter"></i>
                  </li>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer_end">
        <div class="container">
          <p>
            &copy; <a href="#"><strong>Manakamana Online</strong> </a>-All Rights
            Reserved.
          </p>
        </div>
      </div>
    </footer>
    
  </body>
    <script>
        function myFunction() {
        document.getElementById("drop").classList.toggle("show");
      }
        // Fetch products from backend API
        axios.get('http://localhost:3000/products')
            .then(function(response) {
                // Handle successful response
                const productlist=response.data;

                const productsContainer = document.getElementById('products');
                productlist.forEach(function(product) {
                    const productElement = document.createElement('div');
                    productElement.classList.add('product');
                    productElement.innerHTML = `
                        <div class="resp">
                            <div class="image">
                                <img src="products/${product.photo}" height="250px" width="200px" />
                                <button class="addtocartbtn">
                                    <i class="fa-solid fa-cart-shopping"></i> Add to cart
                                </button>
                            </div>
                        </div>
                        <div class="detail">${product.productname}</div>
                        <div class="price"> Price : Rs. ${product.price}</div>
                    `;
                    productsContainer.appendChild(productElement);
                });
            })
            .catch(function(error) {
                // Handle error
                console.error('Error fetching products:', error);
            });
    </script>
</html>